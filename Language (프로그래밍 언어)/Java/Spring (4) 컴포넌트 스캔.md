# Spring - 컴포넌트 스캔

---

지금까지 `@Bean`이나 `<bean>`을 사용하여 스프링 빈을 등록하는 코드를 직접 작성하였다. 예제는 개수가 적어 상관없지만 실무까지 그렇게 한다면 일일이 등록하는 것도 귀찮고 사람이기에 실수할 수도 있다. 그래서 스프링은 설정 정보가 없어도 **자동으로 스프링 빈을 등록**하는 **컴포넌트 스캔**이라는 기능을 제공한다. 또한 **의존 관계도 자동 주입**하는 **`@Autowired`**라는 기능도 제공한다.

`@Component` 를 사용하여 자동으로 스프링 빈을 등록하는 방법을 사용하기 전에는 `@Bean`으로 직접 설정 정보를 작성했고, 의존 관계도 직접 명시했었다. `@Component` 을 사용하면 이런 설정 정보 자체가 없기 때문에, 의존 관계 주입도 이 클래스 안에서 해결해야 한다. 

### @ComponentScan

- `@component` 애노테이션이 붙은 모든 클래스를 찾아 스프링 빈으로 등록한다.
- 이때 스프링 빈에 등록된 이름은 원래 이름에서 맨 앞 글자만 소문자로 하여 등록된다. (직접 이름 설정 가능)
- 옵션으로 `basePackages`를 걸어 스캔할 범위를 지정할 수 있음.
- `@component`뿐 아니라 `@Controller`, `@Service`, `@Repository`, `@Configuration`도 스캔 대상이다.

### @Autowired 

- 의존 관계를 자동으로 주입할 수 있게 해준다.
- 의존 관계를 자동으로 주입할 클래스의 생성자 함수에 걸어두면 스프링 컨테이너가 자동으로 스프링 빈을 찾아서 주입한다. 
- 찾을 때 기본 전략은 생성자 파라미터들의 타입으로된 스프링 빈들을 찾는다. 

### @Controller

-  스프링 MVC 컨트롤러로 인식

### @Repository

- 스프링 데이터 접근 계층으로 인식하고, 데이터 계층의 예외를 스프링 예외로 변환해준다.

### @Configuration

- 스프링 설정 정보로 인식하고, 스프링 빈이 싱글톤을 유지하도록 추가 처리를 한다.

### @Service

- 사실 이는 특별한 처리를 하지 않는다. 대신 개발자들이 핵심 비즈니스 로직이 여기에 있겠구나라고 비즈니스 계층을 인식하는데 도움이 된다.

